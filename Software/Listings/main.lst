C51 COMPILER V9.01   MAIN                                                                  06/06/2021 16:45:11 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE Src\main.c LARGE WARNINGLEVEL(1) OPTIMIZE(9,SPEED) BROWSE INCDIR(.\Inc;.
                    -\Src) DEBUG OBJECTEXTEND PRINT(.\Listings\main.lst) TABS(2) OBJECT(.\Objects\main.obj)

line level    source

   1          #include "main.h"
   2          #include "cmd.h"
*** WARNING C245 IN LINE 4 OF .\INC\CMD.H: unknown #pragma, line ignored
*** WARNING C245 IN LINE 5 OF .\INC\CMD.H: unknown #pragma, line ignored
*** WARNING C245 IN LINE 22 OF .\INC\CMD.H: unknown #pragma, line ignored
   3          #include "timer.h"
   4          #include "uart.h"
   5          #include "adc.h"
   6          #include "stdio.h"
   7          #include "ultrasonic.h"
   8          
   9          //测试工作频率为11.0592MHz
  10          
  11          void main()
  12          {
  13   1          unsigned lasttime = 0;
  14   1          
  15   1        
  16   1          ADC_Init();
  17   1          UartInit();
  18   1          Timer_Init();
  19   1          Ultrasonic_Init();
  20   1        
  21   1          ES = 1;
  22   1          EA = 1;
  23   1          
  24   1          while(1)
  25   1          {
  26   2            
  27   2            ProcessMessage((pCMD) uart_buffer);                             //命令解析
  28   2            
  29   2            if(Work_Mode == '1')                                            //主动上传模式
  30   2              {
  31   3                if((millis - lasttime) >=10)
  32   3                { 
  33   4                  feedback_dist = Get_Distance_cm();
  34   4                  sprintf(DIST_feedback.buf,"%0.2f",feedback_dist);
  35   4                  
  36   4                  UartSendStr((char*)&DIST_feedback);
  37   4                  UartSendStr("cm");
  38   4                  UartSendStr("\r\n");
  39   4                  
  40   4                  lasttime = millis;
  41   4                }
  42   3              }
  43   2            else if((millis - lasttime) >=6)  
  44   2              {
  45   3                feedback_dist = Get_Distance_cm();  
  46   3                lasttime = millis;
  47   3              }
  48   2              
  49   2          }
  50   1      
  51   1      }
C51 COMPILER V9.01   MAIN                                                                  06/06/2021 16:45:11 PAGE 2   

  52          
  53          
  54          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    198    ----
   CONSTANT SIZE    =     12    ----
   XDATA SIZE       =   ----       2
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  3 WARNING(S),  0 ERROR(S)
