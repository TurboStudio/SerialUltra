C51 COMPILER V9.01   TIMER                                                                 06/06/2021 16:45:11 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE TIMER
OBJECT MODULE PLACED IN .\Objects\timer.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE Src\timer.c LARGE WARNINGLEVEL(1) OPTIMIZE(9,SPEED) BROWSE INCDIR(.\Inc;
                    -.\Src) DEBUG OBJECTEXTEND PRINT(.\Listings\timer.lst) TABS(2) OBJECT(.\Objects\timer.obj)

line level    source

   1          #include "STC8G.h"
   2          #include "intrins.h"
   3          #include "timer.h"
   4          //测试工作频率为11.0592MHz
   5          volatile unsigned int millis;
   6          
   7          void TM0_Isr() interrupt 1
   8          {
   9   1          millis++;                                 
  10   1      }
  11          
  12          void Timer_Init()                               //配置10ms定时器中断  
  13          {
  14   1          millis = 0;
  15   1        
  16   1          TMOD |= 0x00;                               //模式0
  17   1          TL0 = 0x00;                                 //（65536-0xdc00）*（1/11059200*12）
  18   1          TH0 = 0xdc;
  19   1          TR0 = 1;                                    //启动定时器
  20   1          ET0 = 1;                                    //使能定时器中断
  21   1      
  22   1      }
  23          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     44    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =      2    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
